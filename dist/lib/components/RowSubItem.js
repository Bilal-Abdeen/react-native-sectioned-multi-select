var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _react=_interopRequireWildcard(require("react"));var _propTypes=_interopRequireDefault(require("prop-types"));var _lodash=require("lodash");var _reactNative=require("react-native");var _ItemIcon=_interopRequireDefault(require("./ItemIcon"));var _helpers=require("../helpers");var _this=this,_jsxFileName="/Users/renrizzolo/Documents/websites/react-native-sectioned-multi-select/lib/components/RowSubItem.js";var shouldNotRerender=function shouldNotRerender(prevProps,nextProps){var selectedItems=prevProps.selectedItems,subItem=prevProps.subItem,childItemId=prevProps.childItemId,highlightedChildren=prevProps.highlightedChildren,parentsHighlightChildren=prevProps.parentsHighlightChildren;if(nextProps.selectedItems!==prevProps.selectedItems){if(selectedItems.includes(childItemId(subItem))&&!nextProps.selectedItems.includes(childItemId(subItem))){console.log('sub row render selectedItem !nextProps.selectedItems');return false;}if(!selectedItems.includes(childItemId(subItem))&&nextProps.selectedItems.includes(childItemId(subItem))){console.log('sub row render !selectedItem nextProps.selectedItems');return false;}}if(parentsHighlightChildren){console.log('parentsHighlightChildren true');if(highlightedChildren.includes(childItemId(subItem))){console.log('subitem parents highlight all this',highlightedChildren);return false;}if(nextProps.highlightedChildren.includes(childItemId(subItem))){console.log('subitem parents highlight all next',nextProps.highlightedChildren);return false;}}if(!(0,_lodash.isEqual)(prevProps.stylesFromContext,nextProps.stylesFromContext)){console.log('--row render: styles !== styles',prevProps.item);return false;}if(!(0,_lodash.isEqual)(prevProps.colors,nextProps.colors)){console.log('--row render: colors !== colors',prevProps.item);return false;}return true;};var RowSubItem=_react.default.memo(function(props){var stylesFromContext=props.stylesFromContext,_props$styles=props.styles,stylesFromProps=_props$styles===void 0?{}:_props$styles,colors=props.colors,subItem=props.subItem,selectedItems=props.selectedItems,SelectedIcon=props.SelectedIcon,UnselectedIcon=props.UnselectedIcon,highlightedChildren=props.highlightedChildren,Icon=props.iconRenderer,childItemId=props.childItemId,subItemFontFamily=props.subItemFontFamily,parentsToggleChildren=props.parentsToggleChildren,selectedIconPosition=props.selectedIconPosition,itemNumberOfLines=props.itemNumberOfLines,displayKey=props.displayKey,iconKey=props.iconKey,_toggleSubItem=props._toggleSubItem,getStyles=props.getStyles;var itemSelected=_react.default.useMemo(function(){return selectedItems.includes(childItemId(subItem));},[selectedItems]);var toggleItem=function toggleItem(){_toggleSubItem(subItem);};var renderSelectedIcon=function renderSelectedIcon(){var itemHighlighted=!parentsToggleChildren&&highlightedChildren.includes(childItemId(subItem));console.log('itemHighlighted',itemHighlighted);return itemSelected||itemHighlighted?_react.default.createElement(SelectedIcon,{highlighted:itemHighlighted,__self:_this,__source:{fileName:_jsxFileName,lineNumber:94,columnNumber:46}}):_react.default.createElement(UnselectedIcon,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:94,columnNumber:94}});};console.log('highlighted in subs?',highlightedChildren);var itemHighlighted=!parentsToggleChildren&&highlightedChildren.includes(childItemId(subItem));console.log('rowSubItem render',childItemId(subItem));var subItemStyles=_react.default.useMemo(function(){return getStyles('subItem',{itemSelected:itemSelected,subItem:subItem,itemHighlighted:itemHighlighted},stylesFromProps);},[itemSelected,itemHighlighted,stylesFromContext.subItem,stylesFromProps.subItem]);var subItemTextStyles=_react.default.useMemo(function(){return getStyles('subItemText',{itemSelected:itemSelected,subItem:subItem,itemHighlighted:itemHighlighted},stylesFromProps);},[itemSelected,subItem,itemHighlighted,stylesFromContext.subItemText,stylesFromProps.subItemText]);var subItemTextContainerStyles=_react.default.useMemo(function(){return getStyles('subItemTextContainer',{itemSelected:itemSelected,subItem:subItem,itemHighlighted:itemHighlighted},stylesFromProps);},[itemSelected,itemHighlighted,stylesFromContext.subItemTextContainer,stylesFromProps.subItemTextContainer]);return _react.default.createElement(_reactNative.View,{key:childItemId(subItem),style:{flexDirection:'row',flex:1,backgroundColor:colors.subItemBackground},__self:_this,__source:{fileName:_jsxFileName,lineNumber:148,columnNumber:5}},_react.default.createElement(_reactNative.TouchableOpacity,{disabled:itemHighlighted||subItem.disabled,onPress:toggleItem,style:subItemStyles,__self:_this,__source:{fileName:_jsxFileName,lineNumber:156,columnNumber:5}},selectedIconPosition==='left'&&renderSelectedIcon(),iconKey&&subItem[iconKey]&&_react.default.createElement(_ItemIcon.default,{iconRenderer:Icon,iconKey:iconKey,icon:subItem[iconKey],style:[stylesFromContext.itemIcon,itemSelected&&stylesFromContext.itemIconSelected],__self:_this,__source:{fileName:_jsxFileName,lineNumber:164,columnNumber:11}}),_react.default.createElement(_reactNative.View,{style:subItemTextContainerStyles,__self:_this,__source:{fileName:_jsxFileName,lineNumber:171,columnNumber:7}},_react.default.createElement(_reactNative.Text,{numberOfLines:itemNumberOfLines,style:subItemTextStyles,__self:_this,__source:{fileName:_jsxFileName,lineNumber:172,columnNumber:7}},subItem[displayKey]),subItem.description&&_react.default.createElement(_reactNative.Text,{style:[{flex:1,fontSize:12,color:subItem.disabled?colors.disabled:colors.subText},subItemFontFamily,stylesFromContext.descriptionText],__self:_this,__source:{fileName:_jsxFileName,lineNumber:179,columnNumber:31}},subItem.description)),selectedIconPosition==='right'&&renderSelectedIcon()));},shouldNotRerender);var _default=RowSubItem;exports.default=_default;