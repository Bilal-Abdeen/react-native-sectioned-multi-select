var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var React=_interopRequireWildcard(require("react"));var _lodash=require("lodash");var _reactNative=require("react-native");var _helpers=require("../helpers");var _=require("../../");var _this=this,_jsxFileName="/Users/renrizzolo/Documents/websites/react-native-sectioned-multi-select/lib/components/Selector.js";var Selector=function Selector(_ref){var _ref$styles=_ref.styles,stylesFromProps=_ref$styles===void 0?{}:_ref$styles;var _useSMSContext=(0,_.useSMSContext)(),hideSelect=_useSMSContext.hideSelect,selectIsVisible=_useSMSContext.selectIsVisible,disabled=_useSMSContext.disabled,_toggleSelect=_useSMSContext._toggleSelect,components=_useSMSContext.components,getStyles=_useSMSContext.getStyles,styles=_useSMSContext.styles;var selectToggleStyles=React.useMemo(function(){return getStyles('selectToggle',{selectIsVisible:selectIsVisible},stylesFromProps);},[stylesFromProps.selectToggle,styles.selectToggle,selectIsVisible]);return!hideSelect?React.createElement(_reactNative.TouchableWithoutFeedback,{onPress:_toggleSelect,disabled:disabled,__self:_this,__source:{fileName:_jsxFileName,lineNumber:23,columnNumber:5}},React.createElement(_reactNative.View,{style:selectToggleStyles,__self:_this,__source:{fileName:_jsxFileName,lineNumber:24,columnNumber:7}},React.createElement(SelectLabel,{stylesFromProps:stylesFromProps,__self:_this,__source:{fileName:_jsxFileName,lineNumber:27,columnNumber:9}}),selectIsVisible?React.createElement(components.SelectToggleOpenIcon,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:29,columnNumber:11}}):React.createElement(components.SelectToggleIcon,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:31,columnNumber:11}}))):null;};var SelectLabel=React.memo(function(stylesFromProps){var _useSMSContext2=(0,_.useSMSContext)(),styles=_useSMSContext2.styles,getStyles=_useSMSContext2.getStyles,selectText=_useSMSContext2.selectText,selectedText=_useSMSContext2.selectedText,single=_useSMSContext2.single,selectIsVisible=_useSMSContext2.selectIsVisible,selectedItems=_useSMSContext2.selectedItems,displayKey=_useSMSContext2.displayKey,alwaysShowSelectText=_useSMSContext2.alwaysShowSelectText,renderSelectText=_useSMSContext2.renderSelectText,selectLabelNumberOfLines=_useSMSContext2.selectLabelNumberOfLines,_findItem=_useSMSContext2._findItem;var customSelect=null;if(renderSelectText){customSelect=renderSelectText(getProps);if(typeof customSelect!=='string'){return customSelect;}}var selectToggleTextStyles=React.useMemo(function(){return getStyles('selectToggleText',{selectIsVisible:selectIsVisible},stylesFromProps);},[stylesFromProps.selectToggleText,styles.selectToggleText,selectIsVisible]);var label=selectText+" ("+selectedItems.length+" "+selectedText+")";if(!single&&alwaysShowSelectText){label=selectText;}if(!selectedItems||selectedItems.length===0){label=selectText;}else if(single||selectedItems.length===1){var item=selectedItems[0];var foundItem=_findItem(item);label=(0,_helpers.getProp)(foundItem,displayKey)||selectText;}if(renderSelectText&&customSelect&&typeof customSelect==='string'){label=customSelect;}return React.createElement(_reactNative.Text,{numberOfLines:selectLabelNumberOfLines,style:selectToggleTextStyles,__self:_this,__source:{fileName:_jsxFileName,lineNumber:80,columnNumber:5}},label);});var _default=Selector;exports.default=_default;